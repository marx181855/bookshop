(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-759d5692"],{"31e0":function(e,t,c){"use strict";c("a919")},"3ce3":function(e,t,c){},"40f0":function(e,t,c){},4370:function(e,t,c){},"46ae":function(e,t,c){"use strict";c("7b2e")},"554d":function(e,t,c){"use strict";c("40f0")},"65f2":function(e,t,c){"use strict";c("4370")},"74bd":function(e,t,c){"use strict";var n=c("7a23"),a={class:"goods"};function o(e,t,c,o,r,i){var u=Object(n["F"])("GoodListItem");return Object(n["x"])(),Object(n["f"])("div",a,[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.goods,(function(e){return Object(n["x"])(),Object(n["f"])(u,{product:e,key:e.id},null,8,["product"])})),128))])}var r=Object(n["R"])("data-v-12d188fc");Object(n["A"])("data-v-12d188fc");var i={alt:""},u={class:"goods-info"},l={class:"price"},b=Object(n["i"])("small",null,"￥",-1),s={class:"collect"};Object(n["y"])();var d=r((function(e,t,c,a,o,r){var d=Object(n["G"])("lazy");return Object(n["x"])(),Object(n["f"])("div",{class:"goods-item",onClick:t[1]||(t[1]=function(){return a.itemCLick&&a.itemCLick.apply(a,arguments)})},[Object(n["P"])(Object(n["i"])("img",i,null,512),[[d,c.product.cover_url]]),Object(n["i"])("div",u,[Object(n["i"])("p",null,Object(n["I"])(c.product.title),1),Object(n["i"])("span",l,[b,Object(n["h"])(Object(n["I"])(c.product.price),1)]),Object(n["i"])("span",s,Object(n["I"])(c.product.collects_count),1)])])})),f=c("6c02"),O={props:{product:{type:Object,default:function(){return{}}}},setup:function(e){var t=Object(f["d"])(),c=function(){t.push({path:"/detail",query:{id:e.product.id}})};return{itemCLick:c}}};c("f4f9");O.render=d,O.__scopeId="data-v-12d188fc";var j=O,p={props:{goods:{type:Array,default:function(){return[]}}},components:{GoodListItem:j}};c("65f2");p.render=o;t["a"]=p},"7b2e":function(e,t,c){},"7ccd":function(e,t,c){},a919:function(e,t,c){},b3d7:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),a=Object(n["h"])("图书商城"),o={class:"wrapper"},r={class:"content"},i={ref:"banref"};function u(e,t,c,u,l,b){var s=Object(n["F"])("NavBar"),d=Object(n["F"])("TabControl"),f=Object(n["F"])("HomeSwiper"),O=Object(n["F"])("RecommendView"),j=Object(n["F"])("GoodList"),p=Object(n["F"])("BackTop");return Object(n["x"])(),Object(n["f"])(n["a"],null,[Object(n["i"])(s,null,{default:Object(n["O"])((function(){return[a]})),_:1}),Object(n["P"])(Object(n["i"])(d,{onTabClick:u.tabClick,titles:["畅销","新书","精选"],style:{"margin-top":"45px"}},null,8,["onTabClick"]),[[n["L"],u.isTabFixed]]),Object(n["i"])("div",o,[Object(n["i"])("div",r,[Object(n["i"])("div",i,[Object(n["i"])(f,{banners:u.banners},null,8,["banners"]),Object(n["i"])(O,{recommends:u.recommends},null,8,["recommends"])],512),Object(n["i"])(d,{onTabClick:u.tabClick,titles:["畅销","新书","精选"]},null,8,["onTabClick"]),Object(n["i"])(j,{goods:u.showGoods},null,8,["goods"])])]),Object(n["P"])(Object(n["i"])(p,{onBTop:u.bTop},null,8,["onBTop"]),[[n["L"],u.isShowBackTop]])],64)}var l=c("2909"),b={alt:""};function s(e,t,c,a,o,r){var i=Object(n["F"])("van-swipe-item"),u=Object(n["F"])("van-swipe"),l=Object(n["G"])("lazy");return c.banners.length?(Object(n["x"])(),Object(n["f"])(u,{key:0,class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:Object(n["O"])((function(){return[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.banners,(function(e,t){return Object(n["x"])(),Object(n["f"])(i,{key:t},{default:Object(n["O"])((function(){return[Object(n["P"])(Object(n["i"])("img",b,null,512),[[l,e.img_url]])]})),_:2},1024)})),128))]})),_:1})):Object(n["g"])("",!0)}var d={props:{banners:{type:Array,default:function(){return[]}}}};c("554d");d.render=s;var f=d,O=c("a7ac"),j=(c("fb6a"),Object(n["R"])("data-v-1f3bf492"));Object(n["A"])("data-v-1f3bf492");var p={class:"recommend"},v={alt:""};Object(n["y"])();var m=j((function(e,t,c,a,o,r){var i=Object(n["G"])("lazy");return Object(n["x"])(),Object(n["f"])("div",p,[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.recommends.slice(0,4),(function(e){return Object(n["x"])(),Object(n["f"])("div",{class:"recommend-item",key:e.id},[Object(n["i"])("a",{href:"",onClick:Object(n["Q"])((function(t){return a.goD(e.id)}),["prevent"])},[Object(n["P"])(Object(n["i"])("img",v,null,512),[[i,e.cover_url]]),Object(n["i"])("div",null,Object(n["I"])(e.title),1)],8,["onClick"])])})),128))])})),g=c("6c02"),k={props:{recommends:{type:Array,default:function(){return[]}}},setup:function(){var e=Object(g["d"])(),t=function(t){e.push({path:"/detail",query:{id:t}})};return{goD:t}}};c("ea2f");k.render=m,k.__scopeId="data-v-1f3bf492";var y=k,h=Object(n["R"])("data-v-22d16dde");Object(n["A"])("data-v-22d16dde");var C={class:"tab-control"};Object(n["y"])();var w=h((function(e,t,c,a,o,r){return Object(n["x"])(),Object(n["f"])("div",C,[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.titles,(function(e,t){return Object(n["x"])(),Object(n["f"])("div",{key:t,onClick:function(e){return a.itemClick(t)},class:["tab-control-item",{active:t==a.currentIndex}]},[Object(n["i"])("span",null,Object(n["I"])(e),1)],10,["onClick"])})),128))])})),x={props:{titles:{type:Array,default:function(){return[]}}},setup:function(e,t){var c=t.emit,a=Object(n["C"])(0),o=function(e){a.value=e,c("tabClick",e)};return{currentIndex:a,itemClick:o}}};c("46ae");x.render=w,x.__scopeId="data-v-22d16dde";var T=x,_=c("74bd"),I=c("725f"),F=(c("99af"),c("1bab"));function B(){return Object(F["a"])({url:"/api/index"})}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sales",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(F["a"])({url:"/api/index?".concat(e,"=1&page=").concat(t)})}var G=c("f40f"),A={name:"Home",components:{NavBar:O["a"],RecommendView:y,TabControl:T,GoodList:_["a"],BackTop:I["a"],HomeSwiper:f},setup:function(){var e=Object(n["C"])(!1),t=Object(n["C"])(!1),c=Object(n["C"])(null),a=Object(n["C"])([]),o=Object(n["B"])({sales:{page:1,list:[]},new:{page:1,list:[]},recommend:{page:1,list:[]}}),r=Object(n["B"])({}),i=Object(n["C"])([]);Object(n["u"])((function(){B().then((function(e){a.value=e.goods.data,i.value=e.slides})),L("sales").then((function(e){o.sales.list=e.goods.data})),L("new").then((function(e){o.new.list=e.goods.data})),L("recommend").then((function(e){o.recommend.list=e.goods.data})),r=new G["a"](document.querySelector(".wrapper"),{probeType:3,click:!0,pullUpLoad:!0}),r.on("scroll",(function(n){t.value=e.value=-n.y>c.value.offsetHeight})),r.on("pullingUp",(function(){console.log("上拉加载更多");var e=o[b.value].page+1;L(b.value,e).then((function(e){var t;(t=o[b.value].list).push.apply(t,Object(l["a"])(e.goods.data)),o[b.value].page+=1})),r.finishPullUp(),r.refresh()}))}));var u=function(e){var t=["sales","new","recommend"];b.value=t[e],Object(n["p"])((function(){r&&r.refresh()}))};Object(n["N"])((function(){Object(n["p"])((function(){r&&r.refresh()}))}));var b=Object(n["C"])("sales"),s=Object(n["d"])((function(){return o[b.value].list})),d=function(){r.scrollTo(0,0,500)};return{recommends:a,tabClick:u,goods:o,showGoods:s,isTabFixed:e,banref:c,isShowBackTop:t,bTop:d,banners:i}}};c("31e0");A.render=u;t["default"]=A},ea2f:function(e,t,c){"use strict";c("3ce3")},f4f9:function(e,t,c){"use strict";c("7ccd")}}]);
//# sourceMappingURL=chunk-759d5692.8b7fbe6a.js.map