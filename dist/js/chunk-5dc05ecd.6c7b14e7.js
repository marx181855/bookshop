(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dc05ecd"],{"13b9":function(e,t,c){"use strict";c("5e10")},"3ce3":function(e,t,c){},"40f0":function(e,t,c){},4370:function(e,t,c){},"46ae":function(e,t,c){"use strict";c("7b2e")},"554d":function(e,t,c){"use strict";c("40f0")},"5e10":function(e,t,c){},"65f2":function(e,t,c){"use strict";c("4370")},"74bd":function(e,t,c){"use strict";var n=c("7a23"),a={class:"goods"};function o(e,t,c,o,r,i){var u=Object(n["F"])("GoodListItem");return Object(n["x"])(),Object(n["f"])("div",a,[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.goods,(function(e){return Object(n["x"])(),Object(n["f"])(u,{product:e,key:e.id},null,8,["product"])})),128))])}var r=Object(n["Q"])("data-v-12d188fc");Object(n["A"])("data-v-12d188fc");var i={alt:""},u={class:"goods-info"},l={class:"price"},b=Object(n["i"])("small",null,"￥",-1),s={class:"collect"};Object(n["y"])();var d=r((function(e,t,c,a,o,r){var d=Object(n["G"])("lazy");return Object(n["x"])(),Object(n["f"])("div",{class:"goods-item",onClick:t[1]||(t[1]=function(){return a.itemCLick&&a.itemCLick.apply(a,arguments)})},[Object(n["O"])(Object(n["i"])("img",i,null,512),[[d,c.product.cover_url]]),Object(n["i"])("div",u,[Object(n["i"])("p",null,Object(n["I"])(c.product.title),1),Object(n["i"])("span",l,[b,Object(n["h"])(Object(n["I"])(c.product.price),1)]),Object(n["i"])("span",s,Object(n["I"])(c.product.collects_count),1)])])})),f=c("6c02"),O={props:{product:{type:Object,default:function(){return{}}}},setup:function(e){var t=Object(f["d"])(),c=function(){t.push({path:"/detail",query:{id:e.product.id}})};return{itemCLick:c}}};c("f4f9");O.render=d,O.__scopeId="data-v-12d188fc";var j=O,p={props:{goods:{type:Array,default:function(){return[]}}},components:{GoodListItem:j}};c("65f2");p.render=o;t["a"]=p},"7b2e":function(e,t,c){},"7ccd":function(e,t,c){},b3d7:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),a=Object(n["Q"])("data-v-7bfeefb0");Object(n["A"])("data-v-7bfeefb0");var o=Object(n["h"])("图书商城"),r={class:"better-scroll-wrapper"},i={class:"better-scroll-content"},u={ref:"banref"};Object(n["y"])();var l=a((function(e,t,c,l,b,s){var d=Object(n["F"])("NavBar"),f=Object(n["F"])("TabControl"),O=Object(n["F"])("HomeSwiper"),j=Object(n["F"])("RecommendView"),p=Object(n["F"])("GoodList"),v=Object(n["F"])("BackTop");return Object(n["x"])(),Object(n["f"])(n["a"],null,[Object(n["i"])(d,null,{default:a((function(){return[o]})),_:1}),Object(n["O"])(Object(n["i"])(f,{onTabClick:l.tabClick,titles:["畅销","新书","精选"],style:{"margin-top":"45px"}},null,8,["onTabClick"]),[[n["L"],l.isTabFixed]]),Object(n["i"])("div",r,[Object(n["i"])("div",i,[Object(n["i"])("div",u,[Object(n["i"])(O,{banners:l.banners},null,8,["banners"]),Object(n["i"])(j,{recommends:l.recommends},null,8,["recommends"])],512),Object(n["i"])(f,{class:"tab-control",onTabClick:l.tabClick,titles:["畅销","新书","精选"]},null,8,["onTabClick"]),Object(n["i"])(p,{goods:l.showGoods},null,8,["goods"])])]),Object(n["O"])(Object(n["i"])(v,{onBTop:l.bTop},null,8,["onBTop"]),[[n["L"],l.isShowBackTop]])],64)})),b=c("2909"),s={alt:""};function d(e,t,c,a,o,r){var i=Object(n["F"])("van-swipe-item"),u=Object(n["F"])("van-swipe"),l=Object(n["G"])("lazy");return c.banners.length?(Object(n["x"])(),Object(n["f"])(u,{key:0,class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:Object(n["N"])((function(){return[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.banners,(function(e,t){return Object(n["x"])(),Object(n["f"])(i,{key:t},{default:Object(n["N"])((function(){return[Object(n["O"])(Object(n["i"])("img",s,null,512),[[l,e.img_url]])]})),_:2},1024)})),128))]})),_:1})):Object(n["g"])("",!0)}var f={props:{banners:{type:Array,default:function(){return[]}}}};c("554d");f.render=d;var O=f,j=c("a7ac"),p=(c("fb6a"),Object(n["Q"])("data-v-1f3bf492"));Object(n["A"])("data-v-1f3bf492");var v={class:"recommend"},m={alt:""};Object(n["y"])();var g=p((function(e,t,c,a,o,r){var i=Object(n["G"])("lazy");return Object(n["x"])(),Object(n["f"])("div",v,[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.recommends.slice(0,4),(function(e){return Object(n["x"])(),Object(n["f"])("div",{class:"recommend-item",key:e.id},[Object(n["i"])("a",{href:"",onClick:Object(n["P"])((function(t){return a.goD(e.id)}),["prevent"])},[Object(n["O"])(Object(n["i"])("img",m,null,512),[[i,e.cover_url]]),Object(n["i"])("div",null,Object(n["I"])(e.title),1)],8,["onClick"])])})),128))])})),k=c("6c02"),y={props:{recommends:{type:Array,default:function(){return[]}}},setup:function(){var e=Object(k["d"])(),t=function(t){e.push({path:"/detail",query:{id:t}})};return{goD:t}}};c("ea2f");y.render=g,y.__scopeId="data-v-1f3bf492";var h=y,C=Object(n["Q"])("data-v-22d16dde");Object(n["A"])("data-v-22d16dde");var w={class:"tab-control"};Object(n["y"])();var x=C((function(e,t,c,a,o,r){return Object(n["x"])(),Object(n["f"])("div",w,[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.titles,(function(e,t){return Object(n["x"])(),Object(n["f"])("div",{key:t,onClick:function(e){return a.itemClick(t)},class:["tab-control-item",{active:t==a.currentIndex}]},[Object(n["i"])("span",null,Object(n["I"])(e),1)],10,["onClick"])})),128))])})),T={props:{titles:{type:Array,default:function(){return[]}}},setup:function(e,t){var c=t.emit,a=Object(n["C"])(0),o=function(e){a.value=e,c("tabClick",e)};return{currentIndex:a,itemClick:o}}};c("46ae");T.render=x,T.__scopeId="data-v-22d16dde";var _=T,I=c("74bd"),F=c("725f"),B=(c("99af"),c("1bab"));function L(){return Object(B["a"])({url:"/api/index"})}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sales",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(B["a"])({url:"/api/index?".concat(e,"=1&page=").concat(t)})}var A=c("f40f"),D={name:"Home",components:{NavBar:j["a"],RecommendView:h,TabControl:_,GoodList:I["a"],BackTop:F["a"],HomeSwiper:O},setup:function(){var e=Object(n["C"])(!1),t=Object(n["C"])(!1),c=Object(n["C"])(null),a=Object(n["C"])([]),o=Object(n["C"])([]),r=Object(n["B"])({sales:{page:1,list:[]},new:{page:1,list:[]},recommend:{page:1,list:[]}}),i=Object(n["B"])({}),u=function(){L().then((function(e){o.value=e.goods.data,a.value=e.slides})),G("sales").then((function(e){r.sales.list=e.goods.data})),G("new").then((function(e){r.new.list=e.goods.data})),G("recommend").then((function(e){r.recommend.list=e.goods.data}))},l=function(){i=new A["a"](document.querySelector(".better-scroll-wrapper"),{probeType:3,click:!0,pullUpLoad:!0,mouseWheel:{speed:20,invert:!1,easeTime:300}}),i.on("scroll",(function(n){t.value=e.value=-n.y>c.value.offsetHeight})),i.on("pullingUp",(function(){var e=r[d.value].page+1;G(d.value,e).then((function(e){var t;(t=r[d.value].list).push.apply(t,Object(b["a"])(e.goods.data)),r[d.value].page+=1})),i.finishPullUp(),i.refresh()}))};Object(n["u"])((function(){u(),l()}));var s=function(e){var t=["sales","new","recommend"];d.value=t[e],Object(n["p"])((function(){i&&i.refresh()}))},d=Object(n["C"])("sales"),f=Object(n["d"])((function(){return r[d.value].list})),O=function(){i.scrollTo(0,0,500)};return{recommends:o,tabClick:s,goods:r,showGoods:f,isTabFixed:e,banref:c,isShowBackTop:t,bTop:O,banners:a}}};c("13b9");D.render=l,D.__scopeId="data-v-7bfeefb0";t["default"]=D},ea2f:function(e,t,c){"use strict";c("3ce3")},f4f9:function(e,t,c){"use strict";c("7ccd")}}]);