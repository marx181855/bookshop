(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dc05ecd"],{"13b9":function(e,t,c){"use strict";c("5e10")},"3ce3":function(e,t,c){},"40f0":function(e,t,c){},4370:function(e,t,c){},"46ae":function(e,t,c){"use strict";c("7b2e")},"554d":function(e,t,c){"use strict";c("40f0")},"5e10":function(e,t,c){},"65f2":function(e,t,c){"use strict";c("4370")},"74bd":function(e,t,c){"use strict";var n=c("7a23"),a={class:"goods"};function o(e,t,c,o,r,i){var u=Object(n["G"])("GoodListItem");return Object(n["y"])(),Object(n["g"])("div",a,[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(c.goods,(function(e){return Object(n["y"])(),Object(n["g"])(u,{product:e,key:e.id},null,8,["product"])})),128))])}var r=Object(n["S"])("data-v-12d188fc");Object(n["B"])("data-v-12d188fc");var i={alt:""},u={class:"goods-info"},l={class:"price"},b=Object(n["j"])("small",null,"￥",-1),s={class:"collect"};Object(n["z"])();var d=r((function(e,t,c,a,o,r){var d=Object(n["H"])("lazy");return Object(n["y"])(),Object(n["g"])("div",{class:"goods-item",onClick:t[1]||(t[1]=function(){return a.itemCLick&&a.itemCLick.apply(a,arguments)})},[Object(n["Q"])(Object(n["j"])("img",i,null,512),[[d,c.product.cover_url]]),Object(n["j"])("div",u,[Object(n["j"])("p",null,Object(n["K"])(c.product.title),1),Object(n["j"])("span",l,[b,Object(n["i"])(Object(n["K"])(c.product.price),1)]),Object(n["j"])("span",s,Object(n["K"])(c.product.collects_count),1)])])})),j=c("6c02"),O={props:{product:{type:Object,default:function(){return{}}}},setup:function(e){var t=Object(j["d"])(),c=function(){t.push({path:"/detail",query:{id:e.product.id}})};return{itemCLick:c}}};c("f4f9");O.render=d,O.__scopeId="data-v-12d188fc";var f=O,p={props:{goods:{type:Array,default:function(){return[]}}},components:{GoodListItem:f}};c("65f2");p.render=o;t["a"]=p},"7b2e":function(e,t,c){},"7ccd":function(e,t,c){},b3d7:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),a=Object(n["S"])("data-v-7bfeefb0");Object(n["B"])("data-v-7bfeefb0");var o=Object(n["i"])("图书商城"),r={class:"better-scroll-wrapper"},i={class:"better-scroll-content"},u={ref:"banref"};Object(n["z"])();var l=a((function(e,t,c,l,b,s){var d=Object(n["G"])("NavBar"),j=Object(n["G"])("TabControl"),O=Object(n["G"])("HomeSwiper"),f=Object(n["G"])("RecommendView"),p=Object(n["G"])("GoodList"),v=Object(n["G"])("BackTop");return Object(n["y"])(),Object(n["g"])(n["a"],null,[Object(n["j"])(d,null,{default:a((function(){return[o]})),_:1}),Object(n["Q"])(Object(n["j"])(j,{onTabClick:l.tabClick,titles:["畅销","新书","精选"],style:{"margin-top":"45px"}},null,8,["onTabClick"]),[[n["N"],l.isTabFixed]]),Object(n["j"])("div",r,[Object(n["j"])("div",i,[Object(n["j"])("div",u,[Object(n["j"])(O,{banners:l.banners},null,8,["banners"]),Object(n["j"])(f,{recommends:l.recommends},null,8,["recommends"])],512),Object(n["j"])(j,{class:"tab-control",onTabClick:l.tabClick,titles:["畅销","新书","精选"]},null,8,["onTabClick"]),Object(n["j"])(p,{goods:l.showGoods},null,8,["goods"])])]),Object(n["Q"])(Object(n["j"])(v,{onBTop:l.bTop},null,8,["onBTop"]),[[n["N"],l.isShowBackTop]])],64)})),b=c("2909"),s={alt:""};function d(e,t,c,a,o,r){var i=Object(n["G"])("van-swipe-item"),u=Object(n["G"])("van-swipe"),l=Object(n["H"])("lazy");return c.banners.length?(Object(n["y"])(),Object(n["g"])(u,{key:0,class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:Object(n["P"])((function(){return[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(c.banners,(function(e,t){return Object(n["y"])(),Object(n["g"])(i,{key:t},{default:Object(n["P"])((function(){return[Object(n["Q"])(Object(n["j"])("img",s,null,512),[[l,e.img_url]])]})),_:2},1024)})),128))]})),_:1})):Object(n["h"])("",!0)}var j={props:{banners:{type:Array,default:function(){return[]}}}};c("554d");j.render=d;var O=j,f=c("a7ac"),p=(c("fb6a"),Object(n["S"])("data-v-1f3bf492"));Object(n["B"])("data-v-1f3bf492");var v={class:"recommend"},m={alt:""};Object(n["z"])();var g=p((function(e,t,c,a,o,r){var i=Object(n["H"])("lazy");return Object(n["y"])(),Object(n["g"])("div",v,[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(c.recommends.slice(0,4),(function(e){return Object(n["y"])(),Object(n["g"])("div",{class:"recommend-item",key:e.id},[Object(n["j"])("a",{href:"",onClick:Object(n["R"])((function(t){return a.goD(e.id)}),["prevent"])},[Object(n["Q"])(Object(n["j"])("img",m,null,512),[[i,e.cover_url]]),Object(n["j"])("div",null,Object(n["K"])(e.title),1)],8,["onClick"])])})),128))])})),y=c("6c02"),k={props:{recommends:{type:Array,default:function(){return[]}}},setup:function(){var e=Object(y["d"])(),t=function(t){e.push({path:"/detail",query:{id:t}})};return{goD:t}}};c("ea2f");k.render=g,k.__scopeId="data-v-1f3bf492";var h=k,w=Object(n["S"])("data-v-22d16dde");Object(n["B"])("data-v-22d16dde");var C={class:"tab-control"};Object(n["z"])();var T=w((function(e,t,c,a,o,r){return Object(n["y"])(),Object(n["g"])("div",C,[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(c.titles,(function(e,t){return Object(n["y"])(),Object(n["g"])("div",{key:t,onClick:function(e){return a.itemClick(t)},class:["tab-control-item",{active:t==a.currentIndex}]},[Object(n["j"])("span",null,Object(n["K"])(e),1)],10,["onClick"])})),128))])})),G={props:{titles:{type:Array,default:function(){return[]}}},setup:function(e,t){var c=t.emit,a=Object(n["D"])(0),o=function(e){a.value=e,c("tabClick",e)};return{currentIndex:a,itemClick:o}}};c("46ae");G.render=T,G.__scopeId="data-v-22d16dde";var _=G,B=c("74bd"),D=c("725f"),S=(c("99af"),c("1bab"));function I(){return Object(S["a"])({url:"/api/index"})}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sales",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(S["a"])({url:"/api/index?".concat(e,"=1&page=").concat(t)})}var x=c("f40f"),z={name:"Home",components:{NavBar:f["a"],RecommendView:h,TabControl:_,GoodList:B["a"],BackTop:D["a"],HomeSwiper:O},setup:function(){var e=Object(n["D"])(!1),t=Object(n["D"])(!1),c=Object(n["D"])(null),a=Object(n["D"])([]),o=Object(n["D"])([]),r=Object(n["C"])({sales:{page:1,list:[]},new:{page:1,list:[]},recommend:{page:1,list:[]}}),i=Object(n["C"])({}),u=function(){I().then((function(e){o.value=e.goods.data,a.value=e.slides})),L("sales").then((function(e){r.sales.list=e.goods.data})),L("new").then((function(e){r.new.list=e.goods.data})),L("recommend").then((function(e){r.recommend.list=e.goods.data}))},l=function(){i=new x["a"](document.querySelector(".better-scroll-wrapper"),{probeType:3,click:!0,pullUpLoad:!0,mouseWheel:{speed:20,invert:!1,easeTime:300}}),i.on("scroll",(function(n){t.value=e.value=-n.y>c.value.offsetHeight})),i.on("pullingUp",(function(){var e=r[d.value].page+1;L(d.value,e).then((function(e){var t;(t=r[d.value].list).push.apply(t,Object(b["a"])(e.goods.data)),r[d.value].page+=1})),i.finishPullUp(),i.refresh()}))};Object(n["v"])((function(){u(),l()}));var s=function(e){var t=["sales","new","recommend"];d.value=t[e],Object(n["q"])((function(){i&&i.refresh()}))},d=Object(n["D"])("sales"),j=Object(n["e"])((function(){return r[d.value].list})),O=function(){i.scrollTo(0,0,500)};return{recommends:o,tabClick:s,goods:r,showGoods:j,isTabFixed:e,banref:c,isShowBackTop:t,bTop:O,banners:a}}};c("13b9");z.render=l,z.__scopeId="data-v-7bfeefb0";t["default"]=z},ea2f:function(e,t,c){"use strict";c("3ce3")},f4f9:function(e,t,c){"use strict";c("7ccd")}}]);