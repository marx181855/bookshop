{"version":3,"sources":["webpack:///./src/views/profile/Login.vue","webpack:///./src/views/profile/Login.vue?c768","webpack:///./src/views/profile/Login.vue?2990","webpack:///./src/assets/images/left.png","webpack:///./src/components/common/navbar/NavBar.vue?dff1","webpack:///./src/network/user.js","webpack:///./src/components/common/navbar/NavBar.vue","webpack:///./src/components/common/navbar/NavBar.vue?146a"],"names":["style","default","width","fit","src","onSubmit","userInfo","email","name","label","placeholder","rules","password","type","class","$router","push","color","round","block","native-type","components","NavBar","setup","store","router","values","console","log","then","res","window","localStorage","setItem","access_token","commit","success","setTimeout","go","catch","err","render","module","exports","register","data","request","url","method","login","logout","getUser","alt","goback"],"mappings":"0JAG+B,Q,GAEtBA,MAAA,uB,GACEA,MAAA,8C,GAuBIA,MAAA,iB,iBAEyE,M,uMA9BtF,eAmCM,YAlCJ,eAES,QADUC,QAAO,gBAAC,iBAAI,C,YAE/B,eA8BM,MA9BN,EA8BM,CA7BJ,eA4BM,MA5BN,EA4BM,CA3BJ,eAIE,GAHAC,MAAM,QACNC,IAAI,UACJC,IAAI,2JAEN,eAqBW,GArBA,SAAQ,EAAAC,UAAQ,C,wBACzB,iBAME,CANF,eAME,G,WALS,EAAAC,SAASC,M,qDAAT,EAAAD,SAASC,MAAK,IACvBC,KAAK,QACLC,MAAM,KACNC,YAAY,KACXC,MAAO,CAAC,CAAD,+B,uBAEV,eAOE,G,WANS,EAAAL,SAASM,S,qDAAT,EAAAN,SAASM,SAAQ,IAC1BC,KAAK,WACLL,KAAK,WACLC,MAAM,KACNC,YAAY,KACXC,MAAO,CAAC,CAAD,+B,uBAGV,eAGM,MAHN,EAGM,CAFJ,eAAuF,OAAlFG,MAAM,gBAAiB,QAAK,+BAAE,EAAAC,QAAQC,KAAI,uBAAyB,aACxE,eAA2F,GAA/EC,MAAM,UAAUC,MAAA,GAAMC,MAAA,GAAMN,KAAK,UAAUO,cAAY,U,yBAAS,iBAAE,C,6GAe3E,GACbC,WAAY,CACVC,SAAA,MAEFC,MAJa,WAKX,IAAMC,EAAQ,iBACRC,EAAS,iBACTnB,EAAW,eAAS,CACxBC,MAAO,GACPK,SAAU,KAENP,EAAW,SAACqB,GAChBC,QAAQC,IAAI,SAAUF,GACtB,eAAMpB,GACHuB,MAAK,SAACC,GAELC,OAAOC,aAAaC,QAAQ,QAASH,EAAII,cAEzCV,EAAMW,OAAO,cAAc,GAE3B,OAAMC,QAAQ,QAEd9B,EAASC,MAAQ,GACjBD,EAASM,SAAW,GACpByB,YAAW,WACTZ,EAAOa,IAAI,KACV,KACHX,QAAQC,IAAIE,MAEbS,OAAM,SAACC,GACNb,QAAQC,IAAI,QAAUY,OAI5B,MAAO,CACLlC,WACAD,c,UC7EN,EAAOoC,OAASA,EAED,gB,oCCPf,W,8CCAAC,EAAOC,QAAU,81B,oCCAjB,W,oCCAA,wJAEO,SAASC,EAASC,GAEvB,OAAOC,eAAQ,CACbC,IAAK,qBACLC,OAAQ,OACRH,SAIG,SAASI,EAAMJ,GAGpB,OAFAlB,QAAQC,IAAIiB,GAELC,eAAQ,CACbC,IAAK,kBACLC,OAAQ,OACRH,SAIG,SAASK,IACd,OAAOJ,eAAQ,CACbC,IAAK,mBACLC,OAAQ,SAKL,SAASG,IACd,OAAOL,eAAQ,CACbC,IAAK,gB,0EC9BFjC,MAAM,W,EAEL,eAA0C,OAArCV,IAAA,IAA8BgD,IAAI,I,YAGtCtC,MAAM,U,iBAAe,U,GACrBA,MAAM,S,gDANb,eAOM,MAPN,EAOM,CANJ,eAGQ,OAHHA,MAAM,OAAQ,QAAK,8BAAE,EAAAuC,QAAA,EAAAA,OAAA,sB,CAAQ,eAEzB,oBAFyB,iBAEzB,CADL,QAGJ,eAA6C,MAA7C,EAA6C,CAAzB,eAAmB,uBAAnB,iBAAmB,C,QACvC,eAAmD,MAAnD,EAAmD,CAAhC,eAA0B,sB,gBAMlC,GACb9B,MADa,WAEX,IAAME,EAAS,iBACT4B,EAAS,WACb5B,EAAOa,IAAI,IAGb,MAAO,CACLe,Y,UChBN,EAAOZ,OAASA,EAED,U","file":"js/chunk-d15eaec2.a5b4728c.js","sourcesContent":["<template>\n  <div>\n    <NavBar>\n      <template v-slot:default>用户登录</template>\n    </NavBar>\n    <div style=\"margin-top: 50px\">\n      <div style=\"text-align: center; padding-top: 50px\">\n        <van-image\n          width=\"19rem\"\n          fit=\"contain\"\n          src=\"https://s3.amazonaws.com/prod.assets.thebanner/styles/article-large/s3/article/large/TIN-400%20Books%20from%20the%20Banner_large_all.jpg?itok=DUgsjKTH\"\n        />\n        <van-form @submit=\"onSubmit\">\n          <van-field\n            v-model=\"userInfo.email\"\n            name=\"email\"\n            label=\"邮箱\"\n            placeholder=\"邮箱\"\n            :rules=\"[{ required: true, message: '请填写邮箱' }]\"\n          />\n          <van-field\n            v-model=\"userInfo.password\"\n            type=\"password\"\n            name=\"password\"\n            label=\"密码\"\n            placeholder=\"密码\"\n            :rules=\"[{ required: true, message: '请填写密码' }]\"\n          />\n\n          <div style=\"margin: 16px\">\n            <div class=\"link-register\" @click=\"$router.push({ path: '/register' })\">没有账号，立即注册</div>\n            <van-button color=\"#44b883\" round block type=\"primary\" native-type=\"submit\">提交</van-button>\n          </div>\n        </van-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NavBar from 'components/common/navbar/NavBar'\nimport { reactive } from 'vue'\nimport { login } from 'network/user'\nimport { Toast } from 'vant'\nimport { useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nexport default {\n  components: {\n    NavBar\n  },\n  setup() {\n    const store = useStore()\n    const router = useRouter()\n    const userInfo = reactive({\n      email: '',\n      password: ''\n    })\n    const onSubmit = (values) => {\n      console.log('submit', values)\n      login(userInfo)\n        .then((res) => {\n          // 将token保存在本地window.localStorage setItem(key, value) getItem(key)\n          window.localStorage.setItem('token', res.access_token)\n          // 在vuex isLogin\n          store.commit('setIsLogin', true)\n\n          Toast.success('登陆成功')\n\n          userInfo.email = ''\n          userInfo.password = ''\n          setTimeout(() => {\n            router.go(-1)\n          }, 500)\n          console.log(res)\n        })\n        .catch((err) => {\n          console.log('错误信息：' + err)\n        })\n    }\n\n    return {\n      userInfo,\n      onSubmit\n    }\n  }\n}\n</script>\n\n<style>\n.link-register {\n  font-size: 14px;\n  margin-bottom: 20px;\n  color: #42b983;\n  display: inline-block;\n  float: left;\n}\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=545695c8\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=545695c8&lang=css\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=545695c8&lang=css\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACOUlEQVRoQ9WaPUsdQRSG37e1tfVP+BMsgpUWgkqKFFpaB1ImtgFLy4CloBCCH4SImISQEIUggogQRAmiiCiSCCKBCQNHECF337M7487ddufOPM+ZM3e+lmj5CSE8ATAMoA/ANslpDxI9hVOXDSG8BPDqQb0LJMfUtloT+A/8HfcIybeKRCsCFfCR+wXJ10UKCPCR+ynJ+eIERPivAAZJ/ilKQITfAzBKcleBj2UeZQyI8PsAxkjuqPCPIiDC/7TIb3vgswuI8AcG/8MLn1VAhD+0tNmqA59NQIT/ZZH/Xhc+i4AIf2zw35rAJxcQ4U8sbb40hU8qIMKfWeQ/p4BPJiDCn1vkN1LBJxEQ4S8Mfj0lfGMBEf7K0mYtNXwjARH+t0X+fQ742gIi/LXBr+aCryUgwt8Y/FJOeLeACH9r8O9yw7sEQgj9AOLk09MB7K/BS/vZFILyfiCEMAVgtkOjweAXU4CpdXgEJgG86WaB7k6hGPmuHsR3qSNKlPk36pSIE9k4yRV1QNYpJw/ih5WLPVHmUsLZE3ExF49LPtSJcNVvaveAU+LSVqRlLaedEmVuaJwScUsZ0+lTVWqo7xun0P2GxIF9aulU1qbe2RPxWCX2RDyJbvQk7QGnRJkHW06JI0unso4WnRJlHu46Jco8XndKlHnB4ZQo84rJKVHmJZ9TYoLknDJBZJkHqhoWZuznJGeq6onvWxEQtqdDJJeLFugg8ZHkgALfag/cGxPPAMRPbnoBbHo/t/kHTXEWQOMPn6AAAAAASUVORK5CYII=\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NavBar.vue?vue&type=style&index=0&id=5c3d94b5&lang=css\"","import { request } from './request'\n\nexport function register(data) {\n  // console.log(data)\n  return request({\n    url: '/api/auth/register',\n    method: 'post',\n    data\n  })\n}\n\nexport function login(data) {\n  console.log(data)\n\n  return request({\n    url: '/api/auth/login',\n    method: 'post',\n    data\n  })\n}\n\nexport function logout() {\n  return request({\n    url: '/api/auth/logout',\n    method: 'post'\n\n  })\n}\n\nexport function getUser() {\n  return request({\n    url: '/api/user'\n  })\n}\n","<template>\n  <div class=\"nav-bar\">\n    <div class=\"left\" @click=\"goback\"><slot name=\"left\">\n        <img src=\"~assets/images/left.png\" alt=\"\">\n      </slot>\n      </div>\n    <div class=\"center\"><slot>EWShop</slot></div>\n    <div class=\"right\"><slot name=\"right\"></slot></div>\n  </div>\n</template>\n\n<script>\nimport { useRouter } from 'vue-router'\nexport default {\n  setup () {\n    const router = useRouter()\n    const goback = () => {\n      router.go(-1)\n    }\n\n    return {\n      goback\n    }\n  }\n}\n</script>\n\n<style>\n.nav-bar{\n  display: flex;\n  background-color: var(--color-tint);\n  color: #ffffff;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  z-index: 9;\n  height: 45px;\n  line-height: 45px;\n  text-align: center;\n  box-shadow: 0 2px 0px rgba(100, 100, 100, 0.1);\n}\n.left,.right{\n  width: 60px;\n}\n.left img {\n  width: 45px;\n  padding: 10px;\n}\n.center {\n  flex:1;\n}\n</style>\n","import { render } from \"./NavBar.vue?vue&type=template&id=5c3d94b5\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=5c3d94b5&lang=css\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}